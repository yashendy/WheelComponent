:root{
  --bg:#f8fafc;
  --text:#0f172a;
  --muted:#64748b;
  --card:#ffffffcc;
  --border:#e2e8f0;
  --indigo:#4f46e5;
  --indigo2:#4338ca;
  --shadow: 0 20px 40px rgba(15,23,42,.12);
  --shadow2: 0 10px 20px rgba(79,70,229,.25);
  --radius: 22px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family: "Cairo", sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow-x:hidden;
}

/* الخلفية */
.bg-blobs{ position:fixed; inset:0; pointer-events:none; z-index:0; }
.blob{
  position:absolute;
  width:55vw; height:55vw;
  border-radius:50%;
  filter: blur(110px);
  opacity:.22;
  animation: pulse 4s ease-in-out infinite;
}
.blob-a{ top:-20%; left:-10%; background:#818cf8; }
.blob-b{ bottom:-20%; right:-10%; background:#f9a8d4; }

@keyframes pulse{
  0%,100%{ transform:scale(1); }
  50%{ transform:scale(1.05); }
}

/* Topbar */
.topbar{
  position:fixed;
  top:16px; left:16px; right:16px;
  display:flex;
  justify-content:space-between;
  z-index:10;
}

/* Layout */
.container{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:90px 16px 40px;
  position:relative;
  z-index:1;
}

.view{ width:min(980px,100%); }
.hidden{ display:none!important; }

/* عنوان العجلة */
.wheel-title{
  text-align:center;
  font-size:28px;
  font-weight:900;
  color:#4338ca;
  margin-bottom:8px;
  background:rgba(255,255,255,.9);
  padding:8px 22px;
  border-radius:999px;
  box-shadow:0 10px 20px rgba(79,70,229,.25);
}

#wheelView{
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* العجلة */
.wheelStage{
  position:relative;
  display:grid;
  place-items:center;
}

/* ===== السهم الرفيع الواقعي ===== */
.pointer{
  position:absolute;
  top:6px;
  width:54px;
  height:54px;
  z-index:3;
  filter: drop-shadow(0 10px 14px rgba(15,23,42,.22));
}

/* جسم السهم */
.pointer::before{
  content:"";
  position:absolute;
  left:50%;
  top:6px;
  width:14px;
  height:38px;
  transform:translateX(-50%);
  background:linear-gradient(180deg,#111827,#0f172a 60%,#020617);
  border-radius:999px;
  box-shadow:
    inset 0 2px 0 rgba(255,255,255,.15),
    inset 0 -3px 0 rgba(0,0,0,.35);
}

/* رأس السهم */
.pointer::after{
  content:"";
  position:absolute;
  left:50%;
  top:-12px;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:16px solid transparent;
  border-right:16px solid transparent;
  border-bottom:22px solid #0f172a;
}

/* العجلة نفسها */
.wheelShell{
  width:360px;
  height:360px;
  border-radius:50%;
  overflow:hidden;
  border:10px solid #0f172a;
  box-shadow:var(--shadow);
  transition:transform 5s cubic-bezier(0.25,0.1,0.25,1);
}
@media(min-width:720px){
  .wheelShell{ width:440px; height:440px; }
}

#wheelCanvas{ width:100%; height:100%; }

.pin{
  position:absolute;
  width:74px; height:74px;
  border-radius:50%;
  background:white;
  border:6px solid #e2e8f0;
  display:grid;
  place-items:center;
  font-size:28px;
  z-index:2;
}

/* زر الدوران */
.spinRow{ margin-top:14px; }

.spin{
  height:66px;
  padding:0 34px;
  border:none;
  border-radius:999px;
  background:var(--indigo);
  color:white;
  font-size:22px;
  font-weight:900;
  cursor:pointer;
  display:flex;
  gap:14px;
  align-items:center;
  box-shadow:var(--shadow2);
}

.spinIcon{ font-size:26px; }
